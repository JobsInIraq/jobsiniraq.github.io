:root {
  --bg: #ffffff; --fg: #111827; --muted:#6b7280; --card:#ffffff; --border:#e5e7eb;
  --accent:#111827; --panel:#f9fafb; --focus:#2563eb;
}
:root[data-theme="dark"] {
  --bg:#0b1220; --fg:#e5e7eb; --muted:#9ca3af; --card:#0f172a; --border:#1f2937;
  --accent:#e5e7eb; --panel:#111827; --focus:#7dd3fc;
}
body { background:var(--bg); color:var(--fg); }
a { color:var(--accent); }

.dash-container { max-width:1200px; margin:2rem auto; padding:0 1rem; }
.header-row { display:flex; gap:1rem; align-items:center; justify-content:space-between; flex-wrap:wrap; }
.controls { display:flex; gap:.5rem; align-items:center; flex-wrap:wrap; }
.controls select, .controls button {
  border:1px solid var(--border); background:var(--card); color:var(--fg);
  padding:.5rem .75rem; border-radius:.6rem; cursor:pointer;
}
.controls button:focus, .controls select:focus { outline:2px solid var(--focus); outline-offset:2px; }

.kpis { display:grid; grid-template-columns:repeat(3,1fr); gap:1rem; margin:1rem 0 2rem; }
.kpi { background:var(--card); border:1px solid var(--border); border-radius:.8rem; padding:1rem; }

.filters { display:grid; grid-template-columns:repeat(5,1fr); gap:.75rem; margin-bottom:.25rem; }
.filters-bar { display:flex; gap:.5rem; align-items:center; flex-wrap:wrap; margin:.5rem 0 1rem; }
.insights { margin:1rem 0; padding:1rem; background:var(--panel); border:1px solid var(--border); border-radius:.75rem; }

.legends { display:grid; grid-template-columns:1fr 1fr; gap:1rem; margin:1rem 0; }
.legend-block { background:var(--card); border:1px solid var(--border); border-radius:.6rem; padding:.5rem .75rem; }
.legend-row { display:flex; flex-wrap:wrap; gap:.5rem; }
.legend-chip { display:inline-flex; align-items:center; gap:.35rem; border:1px solid var(--border); border-radius:1rem; padding:.15rem .5rem; font-size:.85rem; }
.legend-chip .swatch { width:12px; height:12px; border-radius:50%; border:1px solid var(--border); }

.charts { display:grid; grid-template-columns:1fr 1fr; gap:1.5rem; margin:1.5rem 0; }
.charts canvas { width:100%; height:340px; background:var(--card); border:1px solid var(--border); border-radius:.6rem; padding:.5rem; }

.caption { font-size:.9rem; color:var(--muted); margin:.5rem 0 1rem; }
#table { background:var(--card); border:1px solid var(--border); border-radius:.6rem; padding:.5rem; }
.chip { font-size:.8rem; padding:.1rem .4rem; border:1px solid var(--border); border-radius:.5rem; }

.sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

@media (max-width:900px) {
  .kpis { grid-template-columns:1fr; }
  .filters { grid-template-columns:1fr 1fr; }
  .charts { grid-template-columns:1fr; }
  .legends { grid-template-columns:1fr; }
}

/* Print-friendly view */
@media print {
  body { background:#fff; color:#000; }
  .controls, .filters, .filters-bar, #exportCsv, #exportJson, #themeToggle, #langPicker { display:none !important; }
  .charts canvas { height:260px !important; }
  .caption { color:#000; }
}
